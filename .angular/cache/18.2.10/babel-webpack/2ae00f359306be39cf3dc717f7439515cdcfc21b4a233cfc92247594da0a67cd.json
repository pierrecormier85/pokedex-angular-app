{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component, ElementRef, NgZone, ViewChild } from '@angular/core';\nimport { PokemonService } from '../shared/pokemon.service';\nimport { Meta } from '@angular/platform-browser';\nimport { PwaService } from '../shared/pwa.service';\nlet HeaderComponent = class HeaderComponent {\n  ngOnInit() {\n    if (localStorage.getItem('megaEnabled') == null) {\n      localStorage.setItem('megaEnabled', 'true');\n    }\n    if (localStorage.getItem('saveSelectedVersion') == null) {\n      localStorage.setItem('saveSelectedVersion', 'true');\n    }\n    if (localStorage.getItem('SelectedVersion') == null) {\n      localStorage.setItem('SelectedVersion', 'sword-shield');\n    }\n    this.megaSwitch = localStorage.getItem('megaEnabled') == 'true';\n    this.versionSwitch = localStorage.getItem('saveSelectedVersion') == 'true';\n    this.pokemonService.megaSwitchSubscription.next(this.megaSwitch);\n    this.pokemonService.versionSwitchSubscription.next(this.versionSwitch);\n    this.color = this.pokemonService.activePokemon.subscribe(response => {\n      if (response === null) {\n        this.color = 'navbar';\n        this.showSearch = true;\n      } else {\n        this.color = response.color;\n        this.showSearch = false;\n      }\n      this.setTitleBarColor(this.color);\n    });\n  }\n  constructor(pokemonService, Pwa, meta, lc) {\n    this.pokemonService = pokemonService;\n    this.Pwa = Pwa;\n    this.meta = meta;\n    this.lc = lc;\n    this.searchText = '';\n    this.showSearch = true;\n    this._timeout = null;\n  }\n  setTitleBarColor(color) {\n    let hexColor = '#FFFFFF';\n    switch (color) {\n      case 'black':\n        {\n          hexColor = '#607d8b';\n          break;\n        }\n      case 'blue':\n        {\n          hexColor = '#81d4fa';\n          break;\n        }\n      case 'brown':\n        {\n          hexColor = '#bcaaa4';\n          break;\n        }\n      case 'gray':\n        {\n          hexColor = '#a6a6a6';\n          break;\n        }\n      case 'green':\n        {\n          hexColor = '#81c784';\n          break;\n        }\n      case 'pink':\n        {\n          hexColor = '#f8bbd0';\n          break;\n        }\n      case 'purple':\n        {\n          hexColor = '#ad8ee7';\n          break;\n        }\n      case 'red':\n        {\n          hexColor = '#ff8a80';\n          break;\n        }\n      case 'white':\n        {\n          hexColor = '#d5dbe1';\n          break;\n        }\n      case 'yellow':\n        {\n          hexColor = '#ffd600';\n          break;\n        }\n      default:\n        {\n          hexColor = '#FFFFFF';\n        }\n    }\n    this.meta.updateTag({\n      name: 'theme-color',\n      content: hexColor\n    });\n    this.meta.updateTag({\n      name: 'msapplication-navbutton-color',\n      content: hexColor\n    });\n    this.meta.updateTag({\n      name: 'apple-mobile-web-app-status-bar-style',\n      content: hexColor\n    });\n  }\n  checkBoxMega(values) {\n    this.pokemonService.megaSwitchSubscription.next(values.currentTarget.checked);\n    localStorage.setItem('megaEnabled', values.currentTarget.checked.toString());\n  }\n  checkBoxVersion(values) {\n    this.pokemonService.versionSwitchSubscription.next(values.currentTarget.checked);\n    localStorage.setItem('saveSelectedVersion', values.currentTarget.checked.toString());\n  }\n  openMenu() {\n    this.menu.nativeElement.click();\n  }\n  installPwa() {\n    this.Pwa.promptEvent.prompt();\n  }\n  typingStopped() {\n    if (this._timeout) {\n      // if there is already a timeout in process cancel it\n      window.clearTimeout(this._timeout);\n    }\n    this._timeout = window.setTimeout(() => {\n      this._timeout = null;\n      this.lc.run(() => {\n        this.pokemonService.searchItemSubject.next(this.searchText);\n      });\n    }, 50);\n  }\n};\n__decorate([ViewChild('menu'), __metadata(\"design:type\", ElementRef)], HeaderComponent.prototype, \"menu\", void 0);\nHeaderComponent = __decorate([Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.scss']\n}), __metadata(\"design:paramtypes\", [PokemonService, PwaService, Meta, NgZone])], HeaderComponent);\nexport { HeaderComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}